@model CCSHealthFamilyWelfareDept.Models.FICModel
@{
    ViewBag.Title = "ILCtoFICRegistration";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<div class="content-title">
    <h3 class="main-title">Application Form For Illness To Fitness Certificate</h3>

</div>

<div id="content" class="dashboard padding-20 margin-bottom-50">
    @using (Html.BeginForm("ILCtoFICRegistration", "appRegistration", FormMethod.Post, new { @id = "frmFitnessCertificate" }))
    {
        @Html.AntiForgeryToken()  
        @Html.HiddenFor(m => m.regisIdFIC)
        @Html.HiddenFor(m => m.step)
        @Html.HiddenFor(m => m.stepValue)
       
      
        <div class="row">
            @if (Model.step == 2 || Model.stepValue == 1)
            {
                <div class="divStep1">
                    @if (Model.stepValue != 1)
                    {
                        <div class="col-md-12">
                            <div class="panel panel-default">
                                <div class="panel-heading bg-redd">
                                    <span class="title elipsis">
                                        <h4 class="color-white">Enter Certificate No</h4>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="panel panel-default" style="margin-bottom: 5px;">
                                <div class="panel-body" style="padding: 3px 10px">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <strong>Note :-  <span class="text-danger" style="white-space: pre-line">Illness to Fitness Certificate will be issued only to those applicant who have been treated at Government Hospital/CHC/PHC & having Online Illness &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Certificate issued by system.</span>

                                            </strong>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 c">
                            <div class="panel panel-default">

                                <div class="panel-body">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Illness Certificate No.<span class="star">*</span></label>
                                                <input id="certificateNo_display" class="form-control" placeholder="Enter Certificate Number" type="text" />

                                                @Html.HiddenFor(m => m.certificateNo)
                                                @Html.ValidationMessageFor(m => m.certificateNo, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label></label>
                                                <button id="btnSearch" name="btnSearch" type="button" class="btn btn-block btn-primary">Proceed</button>

                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    }
                    <div class="row" id="FormDisplay" style="display: none">
                        <!-- InstanceBeginEditable name="content" -->
                        <div class="col-md-12">
                            <div class="panel panel-default" style="margin-bottom: 5px;">
                                <div class="panel-body" style="padding: 3px 10px">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <strong>Note :-  <span class="text-danger">All files that will be uploaded should be in .jpg and .pdf format and maximum file size should be 2080 KB (2 MB).</span></strong>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-12">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <span class="title elipsis">
                                        <h4>Reason For Application</h4>
                                    </span>
                                </div>
                                <div class="panel-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Reason <span class="star">*</span></label>
                                                @Html.TextAreaFor(m => m.applicationReason, new { @class = "form-control" })
                                                @Html.ValidationMessageFor(m => m.applicationReason, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>OPD Receipt Number <span class="star">*</span></label>
                                                @Html.TextBoxFor(m => m.opdRecNo, new { @class = "form-control" })
                                                @Html.ValidationMessageFor(m => m.opdRecNo, "", new { @class = "text-danger" })
                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <span class="title elipsis">
                                        <h4>Select Health Unit For Appointment</h4>
                                    </span>
                                </div>
                                <div class="panel-body">
                                    <div class="row">

                                        <div class="clearfix"></div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Doctor Name</label>
                                                @Html.TextBoxFor(m => m.fitnessAdvicedBy, new { @class = "form-control", @placeholder = "Doctor Name" })
                                                @Html.ValidationMessageFor(m => m.fitnessAdvicedBy, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Date of Check-up <span class="star">*</span></label>
                                                @Html.TextBoxFor(m => m.opdDate, new { @class = "datepicker-here form-control", tabindex = "2", @data_language = "en", @readonly = "true", @placeholder = "dd/mm/yyyy" })

                                                @Html.ValidationMessageFor(m => m.opdDate, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="col-md-3 ItoF" style="display: none">
                                            <div class="form-group">
                                                <label>Treatment From <span class="star">*</span></label>
                                                @Html.TextBoxFor(m => m.treatmentFrom, new { @class = "form-control F", tabindex = 9, @readonly = "true" })
                                                @Html.ValidationMessageFor(m => m.treatmentFrom, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="col-md-3 ItoF" style="display: none">
                                            <div class="form-group">
                                                <label>Treatment To <span class="star">*</span></label>
                                                @Html.TextBoxFor(m => m.treatmentto, new { @class = "form-control F", tabindex = 9, @readonly = "true" })
                                                @Html.ValidationMessageFor(m => m.treatmentto, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="col-md-3 ItoFx" style="display: none">
                                            <div class="form-group">
                                                <label>No Of Days<span class="star">*</span></label>
                                                @Html.TextBoxFor(m => m.NoOfDays, new { @class = "form-control", @readonly = "readonly" })
                                                @Html.ValidationMessageFor(m => m.NoOfDays, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                        <div class="col-md-3 ItoF" style="display: none">
                                            <div class="form-group">
                                                <label>Illness Details <span class="star">*</span></label>
                                                @Html.TextAreaFor(m => m.illnessDetail, new { @class = "form-control", @readonly = "readonly" })
                                                @Html.ValidationMessageFor(m => m.illnessDetail, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <span class="title elipsis">
                                        <h4>Personal Details</h4>
                                    </span>
                                </div>
                                <div class="panel-body">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Full Name <span class="star">*</span></label>
                                                @Html.TextBoxFor(m => m.fullName, new { @class = "form-control" })
                                                @Html.ValidationMessageFor(m => m.fullName, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Father’s name <span class="star">*</span></label>
                                                @Html.TextBoxFor(m => m.fatherName, new { @class = "form-control" })
                                                @Html.ValidationMessageFor(m => m.fatherName, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>DOB <span class="star">*</span></label>
                                                @Html.TextBoxFor(m => m.dob, new { @class = "form-control", tabindex = 9, @readonly = "true" })
                                                @* @Html.TextBoxFor(m => m.dob, new { @class = "datepicker-here form-control", @data_language = "en", @readonly = "true", @placeholder = "dd/mm/yyyy" })*@
                                                @Html.ValidationMessageFor(m => m.dob, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Gender <span class="star">*</span></label>
                                                <div class="form-control" style="padding: 6px 3px">
                                                    <label>
                                                        <input type="radio" name="rbtnGender" value="Male">Male</label>
                                                    <label>
                                                        <input type="radio" name="rbtnGender" value="Female">Female</label>
                                                    <label>
                                                        <input type="radio" name="rbtnGender" value="Transgender">Transgender</label>
                                                </div>
                                                @Html.HiddenFor(m => m.gender)
                                                @Html.HiddenFor(m => m.rbtnGender)
                                                <span id="spanGender" class="text-danger" style="display: none;">Select Gender</span>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Category <span class="star">*</span></label>
                                                @Html.DropDownListFor(m => m.categoryId, (IEnumerable<SelectListItem>)ViewBag.Category, "--Select--", new { @class = "form-control select" })
                                                @Html.ValidationMessageFor(m => m.categoryId, "", new { @class = "text-danger" })

                                                @*@Html.TextBoxFor(m => m.categoryName, new { @class = "form-control" })
                                    @Html.HiddenFor(m => m.categoryId)*@
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Mobile No. <span class="star">*</span></label>
                                                @Html.TextBoxFor(m => m.appmobileNo, new { @class = "form-control", @maxlength = "10", @onkeypress = "return isNumberKey(event);" })
                                                @Html.ValidationMessageFor(m => m.appmobileNo, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Email Address </label>
                                                @Html.TextBoxFor(m => m.emailId, new { @class = "form-control" })
                                                @Html.ValidationMessageFor(m => m.emailId, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Address <span class="star">*</span></label>
                                                @Html.TextBoxFor(m => m.opdAddress, new { @class = "form-control" })
                                                @Html.ValidationMessageFor(m => m.opdAddress, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>State <span class="star">*</span> </label>

                                                @Html.DropDownListFor(m => m.opdStateId, (IEnumerable<SelectListItem>)ViewBag.State, "--Select--", new { tabindex = 7, @class = "form-control" })
                                                @Html.ValidationMessageFor(m => m.opdStateId, "", new { @class = "text-danger" })
                                                @Html.HiddenFor(m => m.opdStateId)
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>District <span class="star">*</span></label>
                                                @Html.DropDownListFor(m => m.opdDistrictId, (IEnumerable<SelectListItem>)ViewBag.District, "--Select--", new { @class = "form-control", tabindex = "1" })
                                                @Html.ValidationMessageFor(m => m.opdDistrictId, "", new { @class = "text-danger" })
                                                @Html.HiddenFor(m => m.opdDistrictId)
                                                <input type="hidden" id="hdnOpdDistrictId" />
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Pincode</label>
                                                @Html.TextBoxFor(m => m.opdPinCode, new { @class = "form-control", @maxlength = "6", @onkeypress = "return isNumberKey(event);" })
                                                @Html.ValidationMessageFor(m => m.opdPinCode, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Mark Of Identification <span class="text-danger">*</span></label>
                                                @Html.TextAreaFor(m => m.markOfIdentification, new { @class = "form-control", tabindex = 6 })
                                                @Html.ValidationMessageFor(m => m.markOfIdentification, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <span class="title elipsis">
                                        <h4>Upload Documents</h4>
                                    </span>
                                </div>
                                <div class="panel-body">
                                    <div class="row">


                                        <div class="col-md-4" style="margin-bottom: 10px;">
                                            <div class="form-group">

                                                <label>Photo Id Type <span class="text-danger">*</span></label>
                                                @Html.DropDownListFor(m => m.idTypeId, (IEnumerable<SelectListItem>)ViewBag.IdType, "--Select--", new { @class = "form-control", tabindex = 4 })
                                                @Html.HiddenFor(m => m.idTypeId)
                                                @Html.ValidationMessageFor(m => m.idTypeId, "", new { @class = "text-danger" })

                                            </div>
                                        </div>


                                        <div class="col-md-4" style="margin-bottom: 10px;">
                                            <div class="form-group">
                                                <label>Photo Id No.<span class="text-danger">*</span></label>
                                                @Html.TextBoxFor(m => m.idNumber, new { @class = "form-control", tabindex = 8 })
                                                @Html.ValidationMessageFor(m => m.idNumber, "", new { @class = "text-danger" })
                                            </div>
                                        </div>



                                        @*  <div class="col-md-2 U" style="margin-bottom: 10px; display: none">
                                            <label>Photo Id File <span class="text-danger">*</span></label>
                                            <div class="fileUpload3">
                                                <span>Upload </span>
                                                @Html.TextBoxFor(m => m.idFile, new { @class = "upload3", @type = "file", @onchange = "UploadFile(this);" })
                                                @Html.HiddenFor(m => m.idFilePath)
                                            </div>
                                            @Html.ValidationMessageFor(m => m.idFile, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="col-md-1">
                                            <div class="form-group padding-top-30" id="idFilehdndoc" style="display: none;">
                                                <a href="#" id="idFileUploadedDoc" target="_blank" title="Download"><i class="fa fa-2x fa-download"></i></a>
                                            </div>
                                        </div>*@

                                    </div>
                                </div>
                            </div>
                        </div>




                        <div class="col-md-12">
                            <div class="panel panel-default">
                                <div class="panel-body">
                                    <div class="row">
                                        <div class="form-group">
                                            @if (Model.stepValue != -1)
                                            {
                                                <div class="col-md-2">
                                                    <a href="@Url.Action("ILCtoFICRegistration", "AppRegistration",
                                            new
                                            {
                                                regisId = @OTPL_Imp.CustomCryptography.Encrypt(@Model.regisIdFIC.ToString()),
                                                stepValue = 2
                                            })" class="btn btn-block btn-warning">Next</a>

                                                </div>
                                            }
                                            <div class="col-md-2 col-md-offset-4">
                                                <button id="btnsubmit" type="submit" class="btn btn-block btn-primary">Save</button>
                                            </div>
                                            <div class="col-md-2">
                                                <a href="@Url.Action("ILCtoFICRegistration", "appRegistration")" class="btn btn-block btn-warning">Reset</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>

                    </div>

                </div>
              
            }
            else if (Model.step == 3 || Model.stepValue == 2)
            {
                <div class="divStep3">
                    <div class="col-md-12">
                        <div class="panel panel-default">
                            <div class="panel-heading bg-redd">
                                <span class="title elipsis">
                                    <h4 class="color-white">Step 3</h4>
                                </span>
                            </div>
                        </div>
                    </div>



                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="title elipsis">
                                <h4>Check List</h4>
                            </span>
                        </div>
                        <div class="panel-body">
                            <span id="spanmember" style="display: none" class="text-danger">Please select All Document as they are required</span>
                            <div class="row">
                                @foreach (var v in ViewBag.CheckListILC)
                                {
                                    <div class="form-group">
                                        <div class="col-md-5">
                                            <i class="hidden">@v.Value</i>
                                            <label class="l-20">@v.Text</label>
                                            <span id="@v.Value" class="text-danger">*</span>
                                        </div>
                                        <div class="col-md-1">
                                            <input type="checkbox" name="chk_checkList" value="@v.Value">
                                        </div>
                                    </div>
                                }
                            </div>
                            <div class="row">
                                Note:-Kindly collect photo copy of document checked by you.
                            </div>
                        </div>
                    </div>
                </div>

                <div class="clearfix"></div>
                <div class="col-md-12">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div class="row">
                                <div class="form-group">
                                    <div class="col-md-2 col-md-offset-4">
                                        <button id="btnsubmitt" type="submit" class="btn btn-block btn-primary">Save</button>
                                    </div>
                                    <div class="col-md-2">
                                        <a href="@Url.Action("ILCtoFICRegistration", "AppRegistration",
                                            new
                                            {
                                                regisId = @OTPL_Imp.CustomCryptography.Encrypt(@Model.regisIdFIC.ToString()),
                                                stepValue = 1
                                            })" class="btn btn-block btn-warning">Back</a>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            }
        </div>
    }

</div>
<script>

    $(document).ready(function () {
        if ('@TempData["msg"]' != '' && '@TempData["msgstatus"]' != '') {
            swal("", '@TempData["msg"]', '@TempData["msgstatus"]');
        }

        if ('@ViewBag.msg' != '' && '@ViewBag.MsgStatus' != '') {
            swal("", '@ViewBag.msg', '@ViewBag.MsgStatus');
            }
        if ('@TempData["distILCtoFIC"]' != '') {

            binddist($("#opdStateId").val());
        }
        if ('@TempData["stepValue"]' != '' && '@TempData["stepValue"]' == '1') {
            $("#FormDisplay").show();
        }

        $('#fullName').attr('readonly', true);
        $('#fullName').addClass('input-disabled');
        $('#fatherName').attr('readonly', true);
        $('#fatherName').addClass('input-disabled');
        $("input[name=rbtnGender]").prop('disabled', true);
        $("#categoryId").prop("disabled", true);
        $('#opdAddress').attr('readonly', true);
        $('#opdAddress').addClass('input-disabled');
        $('#opdDistrictId').prop('disabled', true);
        $('#opdPinCode').attr('readonly', true);
        $('#opdPinCode').addClass('input-disabled');
        $('#markOfIdentification').attr('readonly', true);
        $('#markOfIdentification').addClass('input-disabled');
        $('#idTypeId').prop('disabled', true);
        $('#idTypeId').prop('disabled', true);
        $('#idNumber').attr('readonly', true);
        $('#opdStateId').prop('disabled', true);
        if ('@TempData["gender"]' != '') {
                gender = '@TempData["gender"]';
                $("input[name=rbtnGender][value=" + gender + "]").prop('checked', true);
            }
        //------------------Serach Old Certificate
        $("#btnSearch").click(function () {


            if ($("#certificateNo_display").val().trim() != '' && $("#certificateNo_display").val().trim() != null) {
                bindDataForRevisedCertificate($("#certificateNo_display").val());
            }
            else {
                swal("", 'Enter Certificate Number!', "warning");
            }
        });

        function bindDataForRevisedCertificate(_oldCertificateNumber) {
            debugger;
            var img = "<img src='@Url.Content("~/Images/loadingImg.gif")' alt='Loading..' style='margin-left:40%; margin-top:25px' />";
                $('#DIV-ApplicationList').html(img);

                $.ajax({
                    url: '@Url.Action("GetLatestILCDetailByCrtificateNo", "AppRegistration")',
                data: { oldCertificateNumber: _oldCertificateNumber },
                type: 'GET',
                dataType: 'json'
            })
        .success(function (returndata) {
            debugger;
            if (returndata != null && returndata != '') {

                if (returndata.Msg == "4") {
                    swal("", 'Details not found for given Certificate Number!', "warning");
                    $("#FormDisplay").hide();
                    $('#FormSearch').show();
                }
                else if (returndata.Msg == "3") {
                    swal("", 'Given Certificate Number is already used for Illness to Fitness Certificate!', "warning");
                    $("#FormDisplay").hide();
                    $('#FormSearch').show();
                }
                else if (returndata.Msg == "2") {
                    swal("", 'Please Enter Your Latest Certificate Number!', "warning");
                    $("#FormDisplay").hide();
                    $('#FormSearch').show();
                }
                else {
                    $("#FormDisplay").show();
                    $('#FormSearch').show();
                    $("#certificateNo").val($("#certificateNo_display").val())
                    $('#regisIdILC ').val(returndata.regisIdILC);
                    $('#regByUser').val(returndata.regByUser);
                    $('#applicationReason').val(returndata.reason);
                    $('#opdRecNo').val(returndata.opdReceiptno);
                    $("input[name=forwardtypeId][value=" + returndata.forwardtypeId + "]").prop('checked', true);
                    $('#fitnessAdvicedBy').val(returndata.doctorName);
                    $('#healthUnitDistrictId ').val(returndata.healthUnitDistrictId);
                    $('#opdDate').val(returndata.opdDate);
                    $('#treatmentFrom').val(returndata.treatmentFrom);
                    $('#treatmentto').val(returndata.treatmentto);
                    $('#NoOfDays').val(returndata.NoOfDays);


                    $('#illnessDetail').val(returndata.illnessDetail);
                    debugger;
                    // var Url = returndata.opdFilePath;
                    //$('#opdFile').val(Url);
                    // $("#opdFilePath").val(Url);
                    $(".ItoF").show();
                   @* var Url = Url.replace('~/', '');
                    $("#opdFileUploadedDoc").prop('href', '@Url.Content("~/")' + Url + '?' + new Date().getTime().toString());*@


                    $('#fullName').val(returndata.fullName);
                    $('#fatherName').val(returndata.fatherName);
                    $('#dob').val(returndata.dob);
                    debugger;

                    $("input[name=rbtnGender][value=" + returndata.gender + "]").prop('checked', true);
                    $('#categoryId').val(returndata.categoryId);
                    $('#appmobileNo').val(returndata.mobileNo);
                    $('#emailId').val(returndata.emailId);
                    $('#opdAddress').val(returndata.opdAddress);
                    $('#opdStateId').val(returndata.opdStateId);
                    $('#opdDistrictId').val(returndata.opdDistrictId);
                    $('#hdnOpdDistrictId').val(returndata.opdDistrictId);
                    $('#opdPinCode').val(returndata.opdPincode);

                    $('#markOfIdentification').val(returndata.markOfIdentification);
                    $('#idTypeId').val(returndata.idTypeId);
                    $('#idNumber').val(returndata.idNumber);
                    $("#idFilehdndoc").show();
                    var Url = returndata.opdFilePath.replace('~/', '');
                    $("#idFileUploadedDoc").prop('href', '@Url.Content("~/")' + Url + '?' + new Date().getTime().toString());
                    $("#idFilePath").val(Url);
                    var isMedicalHistory = "Yes";
                    binddist(returndata.opdStateId);
                    //$("input[name=isMedicalHistory][value=" + isMedicalHistory + "]").attr('checked', true);
                    //$('#divMHDetails').show();

                    //binddropdown(returndata.forwardtypeId, returndata.healthUnitDistrictId);
                    //$("#forwardtoId ").val(returndata.forwardtoId);


                }

    }
    else {
        swal("", 'Details not found for given Certificate Number!', "warning");
        $(".oldnew").hide();

    }
        })
        .error(function (xhr, status) {
            swal("", 'Details not found for given Certificate Number!', "warning");
            $(".oldnew").hide();
        });
}

        //-------------------------
        if ($('#hdnMeHistory').val() == '1') {
            $('#divMHDetails').show();
        }
    });


$("#btnsubmitt").click(function () {
    debugger;
    if ($("#step").val() == 3 && $("#stepValue").val() == -1) {
        if ($("input[type='checkbox']:checked").length < 2) {
            $("#spanmember").show();

            return false;
        }
        $("#tbUser").html('');

    }

});

$("#opdStateId").change(function () {
    binddist($("#opdStateId").val());
})
function binddist(opdStateId) {
    debugger;

    $.ajax({
        type: 'GET',
        url: '@Url.Action("binddistILCtoFIC", "AppRegistration")',
            data: { opdStateId: opdStateId },
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data) {

                $("#opdDistrictId").empty();
                $("#opdDistrictId").append("<option value=''>--Select--</option>")
                $.each(data, function (i, result) {
                    $("#opdDistrictId").append("<option value='" + result.Value + "'>" + result.Text + "</option>")
                });
                 
                $('#opdDistrictId').val($('#hdnOpdDistrictId').val());
                
                },
            failure: function () {
                alert("Failed!");
            }
        });
        }
</script>
